{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\n\nconst myLocalStorage = {\n    get: (key, json = false) => {\n        const data = localStorage.getItem(key);\n\n        if (!json) return data;\n\n        try {\n            return JSON.parse(data);\n        } catch (e) {\n            console.error(e);\n        }\n    },\n    set: (key, data, json = false) => {\n        localStorage.setItem(key, json ? JSON.stringify(data) : data);\n    },\n    remove: (key) => {\n        localStorage.removeItem(key)\n    }\n}\n\nconst initialFormData = myLocalStorage.get(STORAGE_KEY, true);\n\nArray.from(form.elements).forEach(element => {\n    const storageValue = initialFormData[element.name];\n    if (storageValue) {\n        element.value = storageValue.trim();\n    }\n})\n\n\nform.addEventListener(\"input\", () => {\n    const formData = new FormData(form);\n\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n        formObject[key] = value.trim();\n    })\n\n    myLocalStorage.set(STORAGE_KEY, formObject, true)\n});\n\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    myLocalStorage.remove(STORAGE_KEY);\n\n    form.reset();\n});"],"names":["STORAGE_KEY","form","myLocalStorage","key","json","data","e","initialFormData","element","storageValue","formData","formObject","value","event"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAE9C,MAAMC,EAAiB,CACnB,IAAK,CAACC,EAAKC,EAAO,KAAU,CACxB,MAAMC,EAAO,aAAa,QAAQF,CAAG,EAErC,GAAI,CAACC,EAAM,OAAOC,EAElB,GAAI,CACA,OAAO,KAAK,MAAMA,CAAI,CACzB,OAAQC,EAAP,CACE,QAAQ,MAAMA,CAAC,CAClB,CACJ,EACD,IAAK,CAACH,EAAKE,EAAMD,EAAO,KAAU,CAC9B,aAAa,QAAQD,EAAKC,EAAO,KAAK,UAAUC,CAAI,EAAIA,CAAI,CAC/D,EACD,OAASF,GAAQ,CACb,aAAa,WAAWA,CAAG,CAC9B,CACL,EAEMI,EAAkBL,EAAe,IAAIF,EAAa,EAAI,EAE5D,MAAM,KAAKC,EAAK,QAAQ,EAAE,QAAQO,GAAW,CACzC,MAAMC,EAAeF,EAAgBC,EAAQ,MACzCC,IACAD,EAAQ,MAAQC,EAAa,OAErC,CAAC,EAGDR,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMS,EAAW,IAAI,SAAST,CAAI,EAE5BU,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOT,IAAQ,CAC7BQ,EAAWR,GAAOS,EAAM,KAAI,CACpC,CAAK,EAEDV,EAAe,IAAIF,EAAaW,EAAY,EAAI,CACpD,CAAC,EAGDV,EAAK,iBAAiB,SAAWY,GAAU,CACvCA,EAAM,eAAc,EACpBX,EAAe,OAAOF,CAAW,EAEjCC,EAAK,MAAK,CACd,CAAC"}